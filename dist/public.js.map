{"version":3,"file":"public.js","mappings":"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","sources":["webpack://bcgov-wordpress-block-theme/./src/scripts/admin/blocks/collapse/app.js","webpack://bcgov-wordpress-block-theme/./src/scripts/admin/blocks/collapse/container/public.js","webpack://bcgov-wordpress-block-theme/./src/scripts/admin/utils/common.js","webpack://bcgov-wordpress-block-theme/./src/scripts/public/accessibility.js","webpack://bcgov-wordpress-block-theme/./src/scripts/public/dom-loader.js","webpack://bcgov-wordpress-block-theme/./src/scripts/public/notification-banner.js","webpack://bcgov-wordpress-block-theme/./src/scripts/public/print.js","webpack://bcgov-wordpress-block-theme/./src/scripts/public/ribbon-navigation.js","webpack://bcgov-wordpress-block-theme/./src/scripts/public/takeover-navigation.js","webpack://bcgov-wordpress-block-theme/./src/scripts/public/utils/index.js","webpack://bcgov-wordpress-block-theme/./node_modules/@bcgov/design-tokens/css-prefixed/variables.css?d5f9","webpack://bcgov-wordpress-block-theme/./src/styles/public/index.scss?290f","webpack://bcgov-wordpress-block-theme/webpack/bootstrap","webpack://bcgov-wordpress-block-theme/webpack/runtime/define property getters","webpack://bcgov-wordpress-block-theme/webpack/runtime/global","webpack://bcgov-wordpress-block-theme/webpack/runtime/hasOwnProperty shorthand","webpack://bcgov-wordpress-block-theme/webpack/runtime/make namespace object","webpack://bcgov-wordpress-block-theme/webpack/runtime/publicPath","webpack://bcgov-wordpress-block-theme/./src/scripts/public/index.js"],"sourcesContent":["/**\n * Collapse block manipulation.\n */\nimport { triggerClick } from '../../utils/common.js';\nimport {\n    collapseControlsClick,\n    collapseItemsButtonClick,\n    collapseItemsLinkClick,\n} from './container/public';\n\nconst domReady = () => {\n    setTimeout( function () {\n        const collapseAllButtons = document.querySelectorAll(\n            '.collapse-container-nav button'\n        );\n        const collapseItemButtons = document.querySelectorAll(\n            '.collapse-header button'\n        );\n        const collapseItemLinks =\n            document.querySelectorAll( '.collapse-close a' );\n\n        // Select all Collapse All buttons, used to initialize closed states.\n        const collapseAlls = document.querySelectorAll(\n            '.collapse-collapse-all'\n        );\n        // Select all first Collapse Items in each Collapse Container, used to initialize open states.\n        const firstCollapseItemsButton = document.querySelectorAll(\n            '.wp-block-bcgov-block-theme-collapse > div:nth-child(2) button'\n        );\n\n        if ( collapseAllButtons.length ) {\n            collapseAllButtons.forEach( ( item ) => {\n                item.addEventListener( 'click', collapseControlsClick );\n            } );\n\n            collapseItemButtons.forEach( ( item ) => {\n                item.addEventListener( 'click', collapseItemsButtonClick );\n            } );\n\n            collapseItemLinks.forEach( ( item ) => {\n                item.addEventListener( 'click', collapseItemsLinkClick );\n            } );\n\n            // initialise load state\n            collapseAlls.forEach( triggerClick );\n            firstCollapseItemsButton.forEach( ( item ) => {\n                const parentCollapseItem = item.closest(\n                    '.wp-block-bcgov-block-theme-collapse'\n                );\n                if ( ! parentCollapseItem ) return;\n\n                const openFirstItemValue = parentCollapseItem.getAttribute(\n                    'data-open-first-item'\n                );\n\n                if (\n                    openFirstItemValue !== null &&\n                    openFirstItemValue === 'true'\n                ) {\n                    item.click();\n                }\n            } );\n        }\n    }, 0 );\n};\n\nif ( 'complete' === document.readyState ) {\n    domReady();\n} else {\n    document.addEventListener( 'DOMContentLoaded', domReady );\n}\n","import { triggerClick } from '../../../utils/common.js';\n\n/**\n * Click event handlers for collapse and expand all.\n */\nexport function collapseControlsClick() {\n    const target = this.getAttribute( 'data-target' );\n\n    if ( undefined === target ) return;\n\n    const collaspseButtons = document.querySelectorAll(\n        `${ target } .collapse-header button`\n    );\n    const collapseItems = document.querySelectorAll( `${ target } .collapse` );\n\n    if ( this.classList.contains( 'collapse-expand-all' ) ) {\n        collaspseButtons.forEach( ( item ) => {\n            item.classList.remove( 'collapsed' );\n            item.setAttribute( 'aria-expanded', true );\n        } );\n\n        collapseItems.forEach( ( item ) => {\n            item.classList.remove( 'collapse' );\n            item.classList.add( 'collapsing' );\n            item.classList.remove( 'hide' );\n            item.classList.add( 'show' );\n            setTimeout( function () {\n                item.classList.add( 'collapse' );\n                item.classList.remove( 'collapsing' );\n            }, 300 );\n        } );\n    }\n    // }\n    if ( this.classList.contains( 'collapse-collapse-all' ) ) {\n        collaspseButtons.forEach( ( item ) => {\n            item.classList.add( 'collapsed' );\n            item.setAttribute( 'aria-expanded', false );\n        } );\n\n        collapseItems.forEach( ( item ) => {\n            item.classList.remove( 'collapse' );\n            item.classList.add( 'collapsing' );\n            item.classList.remove( 'show' );\n            item.classList.add( 'hide' );\n            setTimeout( function () {\n                item.classList.add( 'collapse' );\n                item.classList.remove( 'collapsing' );\n            }, 300 );\n        } );\n    }\n}\n\n/**\n * Function to handle collapse and expand when clicking on collapse header.\n */\nexport function collapseItemsButtonClick() {\n    const target = this.getAttribute( 'data-target' );\n\n    if ( undefined === target ) return;\n\n    const collapseButton = this;\n    const collapseItem = collapseButton\n        .closest( '.wp-block-bcgov-block-theme-collapse-item' )\n        .querySelector( '.collapse-container' );\n\n    collapseItem.classList.remove( 'collapse' );\n    collapseItem.classList.add( 'collapsing' );\n\n    collapseButton.setAttribute(\n        'aria-expanded',\n        collapseButton.getAttribute( 'aria-expanded' ) === 'true'\n            ? 'false'\n            : 'true'\n    );\n\n    const buttonState = collapseButton.getAttribute( 'aria-expanded' );\n\n    if ( buttonState === 'true' ) {\n        collapseButton.classList.remove( 'collapsed' );\n        collapseItem.classList.remove( 'hide' );\n        collapseItem.classList.add( 'show' );\n    } else {\n        collapseButton.classList.add( 'collapsed' );\n        collapseItem.classList.add( 'hide' );\n        collapseItem.classList.remove( 'show' );\n    }\n\n    setTimeout( function () {\n        collapseItem.classList.add( 'collapse' );\n        collapseItem.classList.remove( 'collapsing' );\n    }, 300 );\n}\n\n/**\n * Function to handle collapse and expand when clicking on collapse link in body of item.\n */\nexport function collapseItemsLinkClick() {\n    const target = this.getAttribute( 'data-target' );\n\n    if ( undefined === target ) return;\n\n    const buttonToClick = document.querySelector(\n        `.collapse-header button[data-target=\"${ target }\"]`\n    );\n\n    triggerClick( buttonToClick );\n}\n","/* eslint jsdoc/check-line-alignment: \"off\" */\n\nexport const allowedColors = [\n    { name: 'bcgov-background-light', color: '#f2f2f2' },\n    { name: 'bcgov-component', color: '#606060' },\n    { name: 'bcgov-text', color: '#313132' },\n    { name: 'bcgov-white', color: '#fff' },\n    { name: 'bcgov-primary', color: '#036' },\n    { name: 'bcgov-link', color: '#1a5a96' },\n    { name: 'bcgov-background-blue', color: '#38598a' },\n    { name: 'bcgov-yellow', color: '#fcba19' },\n    { name: 'bcgov-red', color: '#d8292f' },\n    { name: 'bcgov-green', color: '#2e8540' },\n];\n\nexport const mediaQueries = [\n    { value: null, label: 'Select Break Point', disabled: true },\n    { value: 1200, label: '1200px' },\n    { value: 992, label: '992px' },\n    { value: 768, label: '768px' },\n    { value: 576, label: '576px' },\n    { value: 0, label: 'None' },\n];\n\nexport const defaults = ( value, defaultValue ) => {\n    if ( undefined === value ) {\n        value = defaultValue;\n    }\n    return value;\n};\n\n/**\n * Simulate a click trigger event.\n *\n * @param {Element} el  the element to simulate a click on\n */\n/* eslint-disable no-unused-vars */\nexport const triggerClick = ( el ) => {\n    const evt = new window.MouseEvent( 'click', {\n        bubbles: true,\n        cancelable: true,\n        view: window,\n    } );\n    const canceled = ! el.dispatchEvent( evt );\n};\n/* eslint-disable no-unused-vars */\n","import { qs, qsa, addSafeEventListener } from './utils';\n\n/**\n * Accessibility DOM manipulation.\n * [@return](https://github.com/return) {void}\n */\nconst bcgovBlockThemeAccessibility = () => {\n    /*\n     * SafarIE iOS requires window.requestAnimationFrame update.\n     */\n    window.requestAnimationFrame( () => {\n        const bodyInsertion = qs( 'body' ).firstChild;\n        const skipNav = qs( '.skip-nav-menu' );\n\n        if ( null !== skipNav ) {\n            bodyInsertion.parentNode.insertBefore( skipNav, bodyInsertion );\n            const skipNavItems = qsa( '.skip-nav', skipNav );\n            skipNavItems.forEach( ( item ) => {\n                qs( 'a', item ).setAttribute( 'tabindex', 0 );\n            } );\n        }\n\n        const mainMenuHamburger = qs( 'header nav > button' );\n        const mainMenu = qs( 'header nav button + .hidden-by-default' );\n\n        if ( null !== mainMenuHamburger ) {\n            mainMenuHamburger.setAttribute( 'id', 'main-menu' );\n\n            if ( null !== mainMenu ) {\n                const mainMenuLinks = qsa( 'a', mainMenu );\n                const mainMenuButtons = qsa( 'button', mainMenu );\n                if ( mainMenu.getAttribute( 'aria-hidden' ) !== 'true' ) {\n                    mainMenuLinks.forEach( ( link ) => {\n                        link.setAttribute( 'tabindex', '-1' );\n                    } );\n                    mainMenuButtons.forEach( ( button ) => {\n                        button.setAttribute( 'tabindex', '-1' );\n                    } );\n                }\n\n                const config = { attributes: true };\n\n                const callback = ( mutationList ) => {\n                    for ( const mutation of mutationList ) {\n                        if ( mutation.type === 'attributes' ) {\n                            if (\n                                mainMenu.getAttribute( 'aria-hidden' ) ===\n                                'false'\n                            ) {\n                                mainMenuLinks.forEach( ( link ) => {\n                                    link.setAttribute( 'tabindex', '0' );\n                                } );\n                                mainMenuButtons.forEach( ( button ) => {\n                                    if (\n                                        button.getAttribute( 'aria-label' ) ===\n                                        'Close menu'\n                                    ) {\n                                        button.setAttribute( 'tabindex', '0' );\n                                    }\n                                } );\n                            }\n                            if (\n                                mainMenu.getAttribute( 'aria-hidden' ) ===\n                                'true'\n                            ) {\n                                mainMenuLinks.forEach( ( link ) => {\n                                    link.setAttribute( 'tabindex', '-1' );\n                                } );\n                                mainMenuButtons.forEach( ( button ) => {\n                                    button.setAttribute( 'tabindex', '-1' );\n                                } );\n                            }\n                        }\n                    }\n                };\n\n                const observer = new window.MutationObserver( callback );\n\n                observer.observe( mainMenu, config );\n            }\n        }\n    } );\n};\n\nif ( 'complete' === document.readyState ) {\n    bcgovBlockThemeAccessibility();\n} else {\n    addSafeEventListener(\n        document,\n        'DOMContentLoaded',\n        bcgovBlockThemeAccessibility()\n    );\n}\n","import { qs, unEscapeCSS, addSafeEventListener } from './utils';\n\n/**\n * General Block Theme window event management and DOM manipulation.\n * [@return](https://github.com/return) {void}\n */\nconst bcgovBlockThemeDomLoader = () => {\n    /*\n     * SafarIE iOS requires window.requestAnimationFrame update.\n     */\n    window.requestAnimationFrame( () => {\n        /**\n         * Add siteName body classes and modify DOM placement of breadcrumb after first banner.\n         */\n        const body = qs( 'body' );\n        // Guard against being in the WordPress admin area.\n        const wpAdmin = body.classList.contains( 'wp-admin' );\n        if ( wpAdmin ) return;\n\n        const home = body.classList.contains( 'home' );\n        const headerGroup = qs( 'header' );\n        const header = qs( '.bcgov-header-group' );\n        const isGovLogo = qs( '.wp-block-site-logo' );\n        const footer = qs( 'footer' );\n        const postContent = qs( '.wp-block-post-content' );\n        const customCSS = qs( '#wp-custom-css' );\n\n        if ( null !== customCSS ) {\n            customCSS.innerText = unEscapeCSS( customCSS.innerText );\n        }\n\n        window.requestAnimationFrame( () => {\n            /*\n             * Determine padding for body based on header height.\n             */\n            const headerGroupHeight = window\n                .getComputedStyle( headerGroup )\n                .getPropertyValue( 'height' );\n            const headerHeight = window\n                .getComputedStyle( header )\n                .getPropertyValue( 'height' );\n\n            if (\n                ( headerGroupHeight === '0px' ) === '0px' &&\n                headerHeight !== '0px'\n            ) {\n                body.style.paddingTop = headerGroupHeight;\n            } else if ( headerGroupHeight === '0px' ) {\n                body.style.paddingTop = headerHeight;\n                /*\n                 * Set the scroll padding to the height of the fixed header.\n                 */\n                document.documentElement.style.setProperty(\n                    '--scroll-padding',\n                    headerGroup.clientHeight + 'px'\n                );\n            }\n        } );\n\n        let bannerElement = null;\n        if ( null !== postContent ) {\n            bannerElement = postContent.firstElementChild;\n        }\n        const breadcrumb = qs( '.breadcrumb-nav-section' );\n\n        if ( null !== isGovLogo ) {\n            qs( 'img', isGovLogo ).setAttribute( 'alt', 'BCGov Logo' );\n        }\n\n        let takeover,\n            nav = null;\n        if ( null !== header ) {\n            takeover = qs( '.is-style-takeover-menu', header );\n            nav = qs( 'nav', header );\n        }\n\n        if (\n            null !== window.site.siteName &&\n            '' !== window.site.siteName &&\n            undefined !== window.site.siteName\n        ) {\n            body.classList.add( window.site.siteName );\n        } else {\n            body.classList.add( 'bcgov' );\n        }\n\n        if ( null !== window.site.headerEffect && null !== takeover ) {\n            body.classList.add( `header-${ window.site.headerEffect }` );\n        } else {\n            body.classList.add( 'header-scroll' );\n        }\n\n        if (\n            null !== window.site.customBodyClass &&\n            '' !== window.site.customBodyClass\n        ) {\n            body.classList.add( `custom-${ window.site.customBodyClass }` );\n        }\n\n        if (\n            null !== window.site.externalLinkIcons &&\n            '' !== window.site.externalLinkIcons &&\n            undefined !== window.site.externalLinkIcons\n        ) {\n            if ( '1' === window.site.externalLinkIcons ) {\n                body.classList.add( 'external-link-icons' );\n            }\n        }\n\n        /*\n         * Any inital element with a class that includes 'banner' will be moved above the breadcrumb navigation.\n         * However if the class name also includes 'in-page' it will not be moved.\n         * eg: in-page-strategies-banner\n         */\n        if ( null !== bannerElement ) {\n            if (\n                bannerElement.className\n                    .split( ' ' )\n                    .some( ( individualClass ) =>\n                        /.*banner.*/.test( individualClass )\n                    ) &&\n                ! bannerElement.className\n                    .split( ' ' )\n                    .some( ( individualClass ) =>\n                        /.*in-page.*/.test( individualClass )\n                    )\n            ) {\n                if ( null !== breadcrumb ) {\n                    bannerElement.parentNode.insertBefore(\n                        breadcrumb,\n                        bannerElement.nextSibling\n                    );\n                    breadcrumb.classList.add( 'alignwide' );\n                    if ( home ) {\n                        breadcrumb.remove();\n                    }\n                }\n            }\n        }\n\n        /**\n         * Enable fixed or scroll header based on site options.\n         */\n        if (\n            null !== nav &&\n            ( 'fixed' === window.site.headerEffect ||\n                'hides' === window.site.headerEffect )\n        ) {\n            header.style.position = 'fixed';\n        }\n        if (\n            null !== takeover &&\n            ( null === window.site.headerEffect ||\n                'scroll' === window.site.headerEffect )\n        ) {\n            header.style.position = 'absolute';\n            header.style.overflow = 'hidden';\n            header.style.transform = 'none';\n        }\n        if ( null === nav ) {\n            body.style.paddingTop = 0;\n        }\n\n        /**\n         * Set up scroll to top link.\n         */\n        const backToTopBtn = document.createElement( 'a' );\n        backToTopBtn.setAttribute( 'class', 'back-to-top' );\n        backToTopBtn.setAttribute( 'alt', 'Back to top' );\n        backToTopBtn.setAttribute( 'title', 'Back to top' );\n        backToTopBtn.setAttribute( 'tabindex', '0' );\n        backToTopBtn.setAttribute(\n            'aria-label',\n            'Click to go back to the top of the page'\n        );\n        backToTopBtn.setAttribute( 'href', '#top' );\n        backToTopBtn.setAttribute( 'role', 'button' );\n        if ( null !== footer ) {\n            footer.append( backToTopBtn );\n        }\n\n        const backToTopImage = document.createElement( 'img' );\n        backToTopImage.setAttribute( 'class', 'back-to-top-icon' );\n        backToTopImage.setAttribute( 'alt', 'back to top icon' );\n        backToTopImage.setAttribute(\n            'src',\n            window.site.templateDir + '/assets/images/back-to-top.png'\n        );\n        backToTopBtn.append( backToTopImage );\n\n        let lastScrollTop = 0;\n        const scrollTopPadding = 100;\n\n        /**\n         * Manage events after page scroll.\n         */\n        const windowScroll = () => {\n            /**\n             * Set back to top link visible when close to bottom of window.\n             */\n            const backToTop = qs( '.back-to-top' );\n            if ( null !== backToTop ) {\n                if (\n                    window.pageYOffset + window.innerHeight >\n                    document.body.offsetHeight - 1000\n                ) {\n                    backToTop.style.display = 'block';\n                    backToTop.style.opacity = '0.75';\n                } else {\n                    backToTop.style.display = 'none';\n                    backToTop.style.opacity = '0';\n                }\n            }\n            /**\n             * Enable header scroll show/hide based on site options.\n             */\n            if ( null !== nav && 'hides' === window.site.headerEffect ) {\n                const scrollTopPosition =\n                    window.pageYOffset || document.documentElement.scrollTop;\n                if ( scrollTopPosition < lastScrollTop ) {\n                    // Do scroll up management.\n                    if ( scrollTopPosition > scrollTopPadding ) {\n                        header.style.opacity = '1';\n                        header.style.transform = 'translateY(0%)';\n                    }\n                } else if ( scrollTopPosition > scrollTopPadding ) {\n                    header.style.opacity = '0';\n                    header.style.transform = 'translateY(-100%)';\n                }\n                lastScrollTop = scrollTopPosition <= 0 ? 0 : scrollTopPosition;\n            }\n        };\n\n        addSafeEventListener( document, 'scroll', windowScroll );\n    } );\n};\n\nif ( 'complete' === document.readyState ) {\n    bcgovBlockThemeDomLoader();\n} else {\n    addSafeEventListener(\n        document,\n        'DOMContentLoaded',\n        bcgovBlockThemeDomLoader()\n    );\n}\n\n/* Helper functions */\n\nconst doExternalLinkCheck = () => {\n    /**\n     * Set up external icons for links.\n     */\n\n    if ( '1' === window.site.externalLinkIcons ) {\n        const links = document.querySelectorAll( '.post-content a' );\n\n        if ( links ) {\n            links.forEach( ( link ) => {\n                const href = link.getAttribute( 'href' );\n\n                if ( null !== href ) {\n                    // Check if the link is an anchor link or a relative link\n                    if (\n                        href.startsWith( '#' ) ||\n                        href.startsWith( '/' ) ||\n                        href.startsWith( './' ) ||\n                        href.startsWith( '../' ) ||\n                        href.startsWith( '?' )\n                    ) {\n                        return;\n                    }\n\n                    // Get the current domain\n                    const currentDomain = window.location.hostname;\n\n                    // Extract the domain from the link's href\n                    const linkDomain = href.match(\n                        /^(?:https?:)?(?:\\/\\/)?([^\\/\\?]+)/i\n                    )[ 1 ];\n\n                    // Check if the domains don't match\n                    if ( linkDomain !== currentDomain ) {\n                        link.classList.add( 'external' );\n\n                        const svg = document.createElementNS(\n                            'http://www.w3.org/2000/svg',\n                            'svg'\n                        );\n                        svg.setAttribute( 'class', 'external-link-icon' );\n                        svg.setAttribute( 'version', '1.1' );\n                        svg.setAttribute( 'id', 'Layer_1' );\n                        svg.setAttribute(\n                            'xmlns',\n                            'http://www.w3.org/2000/svg'\n                        );\n                        svg.setAttribute(\n                            'xmlns:xlink',\n                            'http://www.w3.org/1999/xlink'\n                        );\n                        svg.setAttribute( 'x', '0px' );\n                        svg.setAttribute( 'y', '0px' );\n                        svg.setAttribute( 'viewBox', '0 0 18 18' );\n                        svg.setAttribute(\n                            'style',\n                            'enable-background:new 0 0 18 18;'\n                        );\n                        svg.setAttribute( 'xml:space', 'preserve' );\n                        svg.innerHTML =\n                            '<path class=\"st0\" d=\"M9.7,3.9c0-0.1-0.1-0.3-0.2-0.4C9.4,3.4,9.3,3.4,9.2,3.4H1.7c-0.4,0-0.9,0.2-1.2,0.5C0.2,4.2,0,4.6,0,5.1v11.2c0,0.4,0.2,0.9,0.5,1.2C0.8,17.8,1.2,18,1.7,18h11.2c0.4,0,0.9-0.2,1.2-0.5c0.3-0.3,0.5-0.7,0.5-1.2V8.8c0-0.1-0.1-0.3-0.2-0.4 c-0.1-0.1-0.2-0.2-0.4-0.2c-0.1,0-0.3,0.1-0.4,0.2c-0.1,0.1-0.2,0.2-0.2,0.4v7.5c0,0.1-0.1,0.3-0.2,0.4c-0.1,0.1-0.2,0.2-0.4,0.2 H1.7c-0.1,0-0.3-0.1-0.4-0.2c-0.1-0.1-0.2-0.2-0.2-0.4V5.1c0-0.1,0.1-0.3,0.2-0.4c0.1-0.1,0.2-0.2,0.4-0.2h7.5 c0.1,0,0.3-0.1,0.4-0.2C9.7,4.2,9.7,4.1,9.7,3.9z\"/><path class=\"st0\" d=\"M18,0.6c0-0.1-0.1-0.3-0.2-0.4C17.7,0.1,17.6,0,17.4,0h-5.6c-0.1,0-0.3,0.1-0.4,0.2c-0.1,0.1-0.2,0.2-0.2,0.4 s0.1,0.3,0.2,0.4c0.1,0.1,0.2,0.2,0.4,0.2h4.3l-9.2,9.2c-0.1,0.1-0.1,0.1-0.1,0.2c0,0.1,0,0.1,0,0.2s0,0.1,0,0.2c0,0.1,0.1,0.1,0.1,0.2C7,11.1,7,11.2,7.1,11.2c0.1,0,0.1,0,0.2,0c0.1,0,0.1,0,0.2,0s0.1-0.1,0.2-0.1l9.2-9.2v4.3c0,0.1,0.1,0.3,0.2,0.4c0.1,0.1,0.2,0.2,0.4,0.2c0.1,0,0.3-0.1,0.4-0.2C17.9,6.5,18,6.3,18,6.2V0.6z\"/>';\n\n                        const computedStyle = window.getComputedStyle( link );\n                        const fontSize = computedStyle.fontSize;\n\n                        // Set the font size for the SVG\n                        svg.style.width = fontSize;\n                        svg.style.height = fontSize;\n\n                        link.appendChild( svg );\n                    }\n                }\n            } );\n        }\n    }\n};\n\n/**\n * Window event functions\n *\n * Manage events after page load.\n */\nconst windowLoad = () => {\n    windowResize();\n    doExternalLinkCheck();\n};\n\n/**\n * Manage events after window resize.\n */\nconst windowResize = () => {\n    /**\n     * Set orientation helper classes on body.\n     */\n    const height = window.innerHeight;\n    const width = document.body.clientWidth;\n    if ( width > height ) {\n        // Landscape\n        document.body.classList.remove( 'portrait' );\n        document.body.classList.add( 'landscape' );\n    } else {\n        // Portrait\n        document.body.classList.remove( 'landscape' );\n        document.body.classList.add( 'portrait' );\n    }\n    /**\n     * Set device size helper classes on body.\n     * Needed for overriding WordPress specific block size !important.\n     * eg: .wp-block-media-text.is-stacked-on-mobile for small breakpoint.\n     */\n    if ( width <= 782 ) {\n        /**\n         * Mobile or small breakpoint: $breakpoint-sm\n         */\n        document.body.classList.remove( 'largeScreen' );\n        document.body.classList.remove( 'tablet' );\n        document.body.classList.add( 'mobile' );\n    } else if ( width <= 1199 ) {\n        /**\n         * Tablet or large breakpoint for mid-sized resolution changes: $breakpoint-lg\n         */\n        document.body.classList.remove( 'mobile' );\n        document.body.classList.add( 'tablet' );\n        document.body.classList.remove( 'largeScreen' );\n    } else {\n        /**\n         * Desktop or wider than large breakpoint\n         */\n        document.body.classList.remove( 'mobile' );\n        document.body.classList.remove( 'tablet' );\n        document.body.classList.add( 'largeScreen' );\n    }\n};\n\naddSafeEventListener( window, 'resize', windowResize );\naddSafeEventListener( window, 'load', windowLoad );\n","import { createElement, qs, addSafeEventListener } from './utils';\n\n/**\n * General Block Theme Notification banner DOM manipulation.\n * [@return](https://github.com/return) {void}\n */\nconst bcgovBlockThemeNotificationBanner = () => {\n    /*\n     * SafarIE iOS requires window.requestAnimationFrame update.\n     */\n    window.requestAnimationFrame( () => {\n        const body = qs( 'body' );\n        let notificationEnabled =\n            '1' === window.site.noticeEnabled ? true : false;\n        const notificationHomepageOnly =\n            '1' === window.site.noticeHomepageOnly ? true : false;\n        const notificationLabelBold =\n            '1' === window.site.noticeLabelBold ? true : false;\n        const notificationLabelBig =\n            '1' === window.site.noticeLabelBig ? true : false;\n        let notificationStatus = window.site.noticeStatus;\n        let notificationContent = window.site.noticeContent;\n        const notificationButtonLabel = window.site.noticeButtonLabel;\n        let notificationButtonEnabled =\n            '1' === window.site.noticeButtonEnabled ? true : false;\n        const notificationButtonAriaLabel = window.site.noticeButtonAriaLabel;\n        const notificationButtonLink = window.site.noticeButtonLink;\n        let notificationButtonUtmCampaign = window.site.noticeButtonUtmCampaign;\n        const networkNotificationBannerNetworkEnabled =\n            '1' === window.site.networkBannerEnabledNet ? true : false;\n        const networkNotificationStatus = window.site.networkBannerType;\n        const networkNotificationContent = window.site.networkBannerContent;\n        const networkNotificationButtonUtmCampaign =\n            window.site.networkBannerUtm;\n\n        if ( notificationEnabled && notificationHomepageOnly ) {\n            notificationEnabled = body.classList.contains( 'home' )\n                ? true\n                : false;\n        }\n        const currentPage = window.location.href;\n        if ( notificationEnabled && notificationButtonLink === currentPage ) {\n            notificationEnabled = false;\n        }\n\n        // Use Network banner content if enabled and not overidden by local banner.\n        if (\n            networkNotificationBannerNetworkEnabled &&\n            ! notificationEnabled\n        ) {\n            notificationEnabled = true;\n            notificationButtonEnabled = false;\n            notificationContent = networkNotificationContent;\n            notificationStatus = networkNotificationStatus;\n            notificationButtonUtmCampaign =\n                networkNotificationButtonUtmCampaign;\n        }\n\n        if ( notificationEnabled ) {\n            const notificationContainer = createElement( 'div', {\n                class: `notice notification ${ notificationStatus }`,\n                role: 'alert',\n                'aria-live': 'assertive',\n            } );\n\n            const notificationContentInnerContainer = createElement( 'div', {\n                class: 'inner-container',\n            } );\n\n            const notificationContentInner = createElement( 'p', {\n                class: `${ notificationLabelBold ? 'bold' : '' } ${\n                    notificationLabelBig ? 'big' : ''\n                }`,\n                html: `${ notificationContent }`,\n            } );\n\n            const notfificationBtnContainer = createElement( 'div', {\n                class: 'btn-container',\n            } );\n\n            const notfificationBtn = createElement( 'button', {\n                'aria-label': `${\n                    notificationButtonAriaLabel\n                        ? notificationButtonAriaLabel\n                        : notificationContentInner +\n                          ' – ' +\n                          notificationButtonLabel\n                }`,\n                class: `${ notificationLabelBold ? 'bold' : '' } ${\n                    notificationLabelBig ? 'big' : ''\n                }`,\n                text: `${ notificationButtonLabel }`,\n                onclick: `location.href=\"${ notificationButtonLink }${\n                    notificationButtonUtmCampaign\n                        ? '?utm_campaign=' + notificationButtonUtmCampaign\n                        : ''\n                }\"`,\n            } );\n\n            // Assemble the Notification banner.\n            document.body.prepend( notificationContainer );\n            if ( notificationButtonEnabled ) {\n                notificationContainer.prepend( notfificationBtnContainer );\n                notificationContentInnerContainer.prepend( notfificationBtn );\n            } else {\n                notificationContentInnerContainer.classList.add( 'no-btn' );\n            }\n            notificationContainer.prepend( notificationContentInnerContainer );\n            notificationContentInnerContainer.prepend(\n                notificationContentInner\n            );\n        }\n    } );\n};\n\nif ( 'complete' === document.readyState ) {\n    bcgovBlockThemeNotificationBanner();\n} else {\n    addSafeEventListener(\n        document,\n        'DOMContentLoaded',\n        bcgovBlockThemeNotificationBanner()\n    );\n}\n","import { createElement, qs, qsa, addSafeEventListener } from './utils';\n\n/**\n * Print mode manipulation.\n * [@return](https://github.com/return) {void}\n */\nconst bcgovBlockThemePrint = () => {\n    /*\n     * SafarIE iOS requires window.requestAnimationFrame update.\n     */\n    window.requestAnimationFrame( () => {\n        const siteLogo = qs( '.wp-block-site-logo img' );\n        const siteName = qs( '.wp-block-site-title' );\n\n        /*\n         * Print mode header synthesis\n         */\n        if ( null !== siteLogo ) {\n            const invertBackground = siteLogo.hasAttribute( 'data-print' );\n            const printHeaderContainer = createElement( 'div', {\n                class: 'print-header',\n            } );\n            const cloneLogo = siteLogo.cloneNode( true );\n\n            printHeaderContainer.className = 'print-header';\n\n            if ( invertBackground ) {\n                printHeaderContainer.classList.add(\n                    'print-header-black-background'\n                );\n                const printHeaderBlackImage = createElement( 'img', {\n                    class: 'black-background',\n                    src:\n                        window.site.templateDir +\n                        '/assets/images/svg/black.svg',\n                } );\n                printHeaderContainer.append( printHeaderBlackImage );\n            }\n\n            document.body.prepend( printHeaderContainer );\n\n            printHeaderContainer.prepend( cloneLogo );\n\n            if ( null !== siteName ) {\n                const cloneSiteName = siteName.cloneNode( true );\n                printHeaderContainer.append( cloneSiteName );\n            }\n        }\n\n        /*\n         * Print mode enable parent containers for images allowed to print\n         */\n        const imageElement = qsa( 'img' );\n\n        imageElement.forEach( ( image ) => {\n            const imageContainer = image.closest( 'figure' );\n            if ( true === image.hasAttribute( 'data-print' ) ) {\n                if ( null !== imageContainer ) {\n                    imageContainer.classList.add( 'print' );\n                }\n            }\n        } );\n\n        const printMediaQuery = window.matchMedia( 'print' );\n\n        function handlePrintChange( e ) {\n            const imagesToPrint = qsa( 'img' );\n\n            imagesToPrint.forEach( ( image ) => {\n                const imageContainer = image.closest( 'figure' );\n                if ( true === image.hasAttribute( 'data-print-width' ) ) {\n                    if ( e.matches ) {\n                        image.dataset.nonPrintStyle =\n                            image.getAttribute( 'style' );\n                    }\n                    if ( null !== imageContainer ) {\n                        if ( e.matches ) {\n                            image.setAttribute(\n                                'style',\n                                'max-width: ' +\n                                    image.dataset.printWidth +\n                                    '% !important'\n                            );\n                        } else if ( image.dataset.nonPrintStyle ) {\n                            image.removeAttribute( 'style' );\n                            image.setAttribute(\n                                'style',\n                                image.dataset.nonPrintStyle\n                            );\n                        }\n                    }\n                }\n            } );\n        }\n\n        // Uses a matchMedia MediaQueryList so do not use addGlobalEventListener\n        printMediaQuery.addEventListener( 'change', handlePrintChange );\n\n        // Initial check\n        handlePrintChange( printMediaQuery );\n    } );\n};\n\nif ( 'complete' === document.readyState ) {\n    bcgovBlockThemePrint();\n} else {\n    addSafeEventListener(\n        document,\n        'DOMContentLoaded',\n        bcgovBlockThemePrint()\n    );\n}\n","import { createElement, qs, qsa, addSafeEventListener } from './utils';\n\n/**\n * Ribbon navigation manipulation.\n * [@return](https://github.com/return) {void}\n */\nconst bcgovBlockThemeRibbonNavigation = () => {\n    /*\n     * SafarIE iOS requires window.requestAnimationFrame update.\n     */\n    window.requestAnimationFrame( () => {\n        if ( qsa( '.is-style-ribbon-menu' ).length ) {\n            qs( 'body' ).classList.add( 'has-ribbon-menu' );\n\n            /*\n             * Check for menu items being out of viewport and class is needed.\n             */\n            function doBoundsCheck( targetEl ) {\n                setTimeout( function () {\n                    const container = targetEl;\n                    const childContainer = qs( 'ul', container );\n                    const subChildContainer = qs(\n                        '.wp-block-navigation__submenu-container .wp-block-navigation__submenu-container',\n                        container\n                    );\n                    const languageChildContainer = qs(\n                        '.language_switcher_options',\n                        container\n                    );\n\n                    let bounding = null;\n\n                    if ( null !== childContainer ) {\n                        bounding = childContainer.getBoundingClientRect();\n                    }\n\n                    const windowWidth =\n                        window.innerWidth ||\n                        document.documentElement.clientWidth;\n\n                    if ( null !== bounding ) {\n                        if ( null !== subChildContainer ) {\n                            subChildContainer.style.top = '0.85rem';\n                        }\n\n                        if ( bounding.right > windowWidth ) {\n                            childContainer.classList.add( 'is-offscreen' );\n                            childContainer.style.left = `calc(4px - ${ childContainer.parentNode.parentNode.offsetWidth }px)`;\n                            childContainer.style.right = 'auto';\n                            childContainer.style.top = '100%';\n\n                            if ( null !== languageChildContainer ) {\n                                languageChildContainer.style.top = '100%';\n                            }\n                            childContainer.style.position = 'absolute';\n                        }\n                    }\n                }, 0 );\n            }\n\n            /*\n             * Sets up an integrated menu item for the language switcher\n             * when NOT using the \"Displays as dropdown\" (select-based) option\n             */\n            let subMenuLanguageGroupLiClasses = '';\n            let subMenuLanguageOptionLiClasses = '';\n\n            if (\n                qs( '.wp-block-polylang-language-switcher' ) &&\n                ! qs( '.wp-block-polylang-language-switcher select' )\n            ) {\n                const ulmainnav = qs( '.wp-block-navigation__container' );\n\n                if ( ulmainnav ) {\n                    ulmainnav.classList.add( 'primary-menu-container' );\n                    ulmainnav.classList.add( 'ul-main-nav' );\n                }\n\n                const submenuLis = qsa( 'li', ulmainnav );\n                const subSubmenuLis = qsa(\n                    '.wp-block-navigation__submenu-container li',\n                    ulmainnav\n                );\n\n                submenuLis.forEach( ( li ) => {\n                    if (\n                        li.classList.contains(\n                            'wp-block-navigation-submenu'\n                        ) &&\n                        '' === subMenuLanguageGroupLiClasses\n                    ) {\n                        subMenuLanguageGroupLiClasses = li.classList\n                            .toString()\n                            .replace( /,/g, ' ' )\n                            .replace( 'current-menu-item', '' );\n                    }\n                } );\n\n                subSubmenuLis.forEach( ( li ) => {\n                    if (\n                        li.classList.contains( 'wp-block-navigation-item' ) &&\n                        '' === subMenuLanguageOptionLiClasses\n                    ) {\n                        subMenuLanguageOptionLiClasses = li.classList\n                            .toString()\n                            .replace( /,/g, ' ' )\n                            .replace( 'current-menu-item', '' );\n                    }\n                } );\n\n                // Attempt to assign colours when there aren't any other sub-menus to draw from\n                if ( '' === subMenuLanguageGroupLiClasses ) {\n                    subMenuLanguageGroupLiClasses = `${ subMenuLanguageOptionLiClasses } has-text-color has-background-color has-background has-secondary-brand-background-color wp-block-navigation-item has-child open-on-hover-click wp-block-navigation-submenu`;\n                }\n\n                let currentUl = ulmainnav;\n\n                const ulLangSwitch = qs(\n                    '.wp-block-polylang-language-switcher'\n                );\n                const lis1 = qsa( '.lang-item', ulLangSwitch );\n\n                if ( lis1 ) {\n                    lis1.forEach( ( li ) => {\n                        const a = qs( 'a', li );\n                        const href = a.getAttribute( 'href' );\n                        const text = a.textContent;\n                        let li2 = null;\n\n                        if ( li.classList.contains( 'current-lang' ) ) {\n                            li2 = createElement( 'li', {\n                                class: `language-group ${ subMenuLanguageGroupLiClasses }`,\n                            } );\n                        } else {\n                            li2 = createElement( 'li', {\n                                class: `language-option ${ subMenuLanguageOptionLiClasses }`,\n                            } );\n                        }\n\n                        if ( li.classList.contains( 'current-lang' ) ) {\n                            const button = createElement( 'button', {\n                                class: 'wp-block-navigation__submenu-icon wp-block-navigation-submenu__toggle language_switcher',\n                                'aria-label': text + ' submenu',\n                                'aria-expanded': 'false',\n                            } );\n\n                            const svg = document.createElementNS(\n                                'http://www.w3.org/2000/svg',\n                                'svg'\n                            );\n                            svg.setAttribute(\n                                'xmlns',\n                                'http://www.w3.org/2000/svg'\n                            );\n                            svg.setAttribute( 'width', '12' );\n                            svg.setAttribute( 'height', '12' );\n                            svg.setAttribute( 'viewBox', '0 0 12 12' );\n                            svg.setAttribute( 'fill', 'none' );\n                            svg.setAttribute( 'aria-hidden', 'true' );\n                            svg.setAttribute( 'focusable', 'false' );\n                            const path = document.createElementNS(\n                                'http://www.w3.org/2000/svg',\n                                'path'\n                            );\n                            path.setAttribute(\n                                'd',\n                                'M1.50002 4L6.00002 8L10.5 4'\n                            );\n                            path.setAttribute( 'stroke-width', '1.5' );\n                            svg.appendChild( path );\n\n                            button.appendChild( svg );\n                            li2.appendChild( button );\n\n                            const ul3 = createElement( 'ul', {\n                                class: 'wp-block-navigation__submenu-container',\n                            } );\n                            currentUl.appendChild( ul3 );\n                            currentUl = ul3;\n                        }\n\n                        const a2 = createElement( 'a', {\n                            class: 'wp-block-navigation-item__content',\n                            href,\n                            'aria-current': 'page',\n                        } );\n\n                        const span = createElement( 'span', {\n                            class: 'wp-block-navigation-item__label',\n                            text,\n                        } );\n\n                        currentUl.appendChild( li2 );\n                        a2.appendChild( span );\n                        li2.appendChild( a2 );\n\n                        const button = qs(\n                            '.wp-block-navigation-submenu__toggle.language_switcher'\n                        );\n\n                        // move the link before the button\n                        if (\n                            button &&\n                            li2.classList.contains(\n                                'wp-block-navigation-submenu'\n                            )\n                        ) {\n                            li2.insertBefore( button, a2.nextSibling );\n                            const ul3 = createElement( 'ul', {\n                                class: 'wp-block-navigation__submenu-container language_switcher_options ul3',\n                            } );\n                            li2.appendChild( ul3 );\n                        }\n\n                        const ul3 = qs(\n                            '.wp-block-navigation__submenu-container.language_switcher_options'\n                        );\n\n                        if ( ! li.classList.contains( 'has-child' ) && ul3 ) {\n                            currentUl = ul3;\n                        }\n                    } );\n                }\n\n                // remove the language switcher down arrow from the DOM when using the \"Show arrow\" navigation option\n                if ( ! qs( '.language-group.open-on-hover-click' ) ) {\n                    qs( '.language-group button' ).remove();\n                }\n\n                // remove the default language switcher from the DOM when using the \"Displays as dropdown\" option\n                if ( ! qs( '.wp-block-polylang-language-switcher select' ) ) {\n                    qs( '.wp-block-polylang-language-switcher' ).remove();\n                }\n            }\n\n            const ulPrimary = qs( '.primary-menu-container' );\n\n            const ulLanguageOptions = qs( '.language_switcher_options' );\n\n            if ( ulPrimary && ulLanguageOptions ) {\n                const lis2 = qsa( '.language-option', ulPrimary );\n\n                if ( lis2 ) {\n                    lis2.forEach( ( li ) => {\n                        subMenuLanguageGroupLiClasses\n                            .split( ' ' )\n                            .forEach( ( className ) => {\n                                if ( '' !== className ) {\n                                    li.classList.add( className );\n                                }\n                            } );\n                        ulLanguageOptions.appendChild( li );\n                    } );\n                }\n            }\n\n            if ( qsa( 'li.wp-block-navigation-item' ).length ) {\n                const elem = qsa( 'li.wp-block-navigation-item' );\n\n                elem.forEach( ( i ) => {\n                    i.addEventListener(\n                        'pointerover',\n                        ( e ) => {\n                            let target = e.target;\n                            if ( target.tagName !== 'LI' ) {\n                                target = target.closest( 'li' );\n                            }\n                            doBoundsCheck( target );\n                        },\n                        { capture: false }\n                    );\n                } );\n            }\n        }\n    } );\n};\n\nif ( 'complete' === document.readyState ) {\n    bcgovBlockThemeRibbonNavigation();\n} else {\n    addSafeEventListener(\n        document,\n        'DOMContentLoaded',\n        bcgovBlockThemeRibbonNavigation()\n    );\n}\n","import { qs, qsa, addSafeEventListener } from './utils';\n\n/**\n * Takeover navigation manipulation.\n * [@return](https://github.com/return) {void}\n */\nconst bcgovBlockThemeTakeoverNavigation = () => {\n    /*\n     * SafarIE iOS requires window.requestAnimationFrame update.\n     */\n    window.requestAnimationFrame( () => {\n        /**\n         * Add body class for CSS specificity if Takeover Menu is in use.\n         */\n        if ( qsa( '.is-style-takeover-menu' ).length ) {\n            qs( 'body' ).classList.add( 'has-takeover-menu' );\n\n            /**\n             * Clone site logo node and insert copy inside modal overlay.\n             */\n            const elLogo = qs( '.wp-block-site-logo' );\n            const cloneLogo = elLogo.cloneNode( true );\n            cloneLogo.id = 'nav-logo';\n            cloneLogo\n                .querySelector( '.custom-logo-link' )\n                .setAttribute( 'tabindex', '-1' );\n            document\n                .querySelector(\n                    '.wp-block-navigation__responsive-container-content'\n                )\n                .after( cloneLogo );\n\n            const elSiteName = qs( '.wp-block-site-title a' );\n            const cloneSiteName = elSiteName.cloneNode( true );\n            cloneSiteName.id = 'nav-title';\n            cloneSiteName.setAttribute( 'aria-label', 'site homepage' );\n            document\n                .querySelector( '#nav-logo .custom-logo-link' )\n                .after( cloneSiteName );\n        }\n\n        /**\n         * Override menu open SVG. Affects all hamburger icon instances.\n         */\n        const menuOpenSVGToReplace = qs(\n            '.wp-block-navigation__responsive-container-open svg'\n        );\n        if ( menuOpenSVGToReplace ) {\n            const newOpenSVG = document.createElementNS(\n                'http://www.w3.org/2000/svg',\n                'svg'\n            );\n            newOpenSVG.setAttribute( 'x', '0' );\n            newOpenSVG.setAttribute( 'y', '0' );\n            newOpenSVG.setAttribute( 'viewBox', '0 0 24 24' );\n            newOpenSVG.setAttribute( 'width', 24 );\n            newOpenSVG.setAttribute( 'height', 24 );\n            newOpenSVG.setAttribute( 'aria-hidden', 'true' );\n            newOpenSVG.setAttribute( 'focusable', 'false' );\n            newOpenSVG.innerHTML =\n                '<rect x=\"1.3\" y=\"10.9\" width=\"22\" height=\"2\"/><rect x=\"1.4\" y=\"20.5\" width=\"22\" height=\"2\"/><rect x=\"1.4\" y=\"1.3\" width=\"22\" height=\"2\"/>';\n            menuOpenSVGToReplace.parentNode.insertBefore(\n                newOpenSVG,\n                menuOpenSVGToReplace.nextSibling\n            );\n            menuOpenSVGToReplace.parentNode.removeChild( menuOpenSVGToReplace );\n        }\n\n        /**\n         * Override menu close SVG. Affects all close icon instances.\n         */\n        const menuCloseSVGToReplace = qs(\n            '.wp-block-navigation__responsive-container-close svg'\n        );\n\n        if ( menuCloseSVGToReplace ) {\n            const newCloseSVG = document.createElementNS(\n                'http://www.w3.org/2000/svg',\n                'svg'\n            );\n            newCloseSVG.setAttribute( 'x', '0' );\n            newCloseSVG.setAttribute( 'y', '0' );\n            newCloseSVG.setAttribute( 'viewBox', '0 0 24 24' );\n            newCloseSVG.setAttribute( 'width', 24 );\n            newCloseSVG.setAttribute( 'height', 24 );\n            newCloseSVG.setAttribute( 'aria-hidden', 'true' );\n            newCloseSVG.setAttribute( 'focusable', 'false' );\n            newCloseSVG.innerHTML =\n                '<path d=\"M13.5,11.7l9.2-9.5l-1.5-1.5L12,10L2.9,0.8L1.4,2.2l9.1,9.5l-9.8,10l1.5,1.5l9.8-9.9l9.8,9.9l1.5-1.5L13.5,11.7z\"/>';\n            menuCloseSVGToReplace.parentNode.insertBefore(\n                newCloseSVG,\n                menuCloseSVGToReplace.nextSibling\n            );\n            menuCloseSVGToReplace.parentNode.removeChild(\n                menuCloseSVGToReplace\n            );\n        }\n    } );\n};\n\nif ( 'complete' === document.readyState ) {\n    bcgovBlockThemeTakeoverNavigation();\n} else {\n    addSafeEventListener(\n        document,\n        'DOMContentLoaded',\n        bcgovBlockThemeTakeoverNavigation()\n    );\n}\n","/* eslint jsdoc/check-line-alignment: \"off\" */\n\n/**\n * Utility functions for cleaner JavaScript.\n *\n * Unit tests for functional data manipulations and logical operations found in `Tests`.\n */\n\n/**\n * addGlobalEventListener is a utility function that attaches an event listener to the given parent element and triggers the callback function only if the event target matches the given selector.\n *\n * @param {string} type - The type of event to listen for (e.g. 'click', 'pointerevent')\n * @param {string|Element} selector - The selector to match against the event. Can be a CSS selector string or an Element.\n * @param {Function} callback - The function to be called when the event is triggered\n * @param {Element} [parent=document] - The parent element to attach the event listener to (defaults to document)\n */\n\nexport function addGlobalEventListener(\n    type,\n    selector,\n    callback,\n    parent = document\n) {\n    // check if the selector is valid\n    if ( ! selector || typeof selector !== 'string' ) {\n        throw new Error(\n            'Invalid selector: must be CSS selector or an element'\n        );\n    }\n\n    // check if the callback is a valid function\n    if ( typeof callback !== 'function' ) {\n        throw new Error( 'Invalid callback provided' );\n    }\n\n    parent.addEventListener( type, ( event ) => {\n        // use qsa to get all elements that match the selector\n        const elements = document.querySelectorAll( selector );\n\n        // check if the event target is one of the matching elements\n        const target = event.target;\n        if (\n            elements.includes( target ) ||\n            elements.some( ( element ) => element.contains( target ) )\n        ) {\n            callback( event );\n        }\n    } );\n}\n\n/**\n * createElement - creates an HTML element with the given type and options\n *\n * @param {string} type - the type of element to create (e.g. 'div', 'p', 'h1')\n * @param {Object} [options={}] - an object containing key-value pairs of attributes and values to set on the element\n * @param {string} options.class - the class(es) to add to the element – a single space-separated string\n * @param {Object} options.dataset - an object containing key-value pairs of data attributes and values to set on the element\n * @param {string} options.text - the text content to set on the element\n * @return {HTMLElement} the created element\n */\nexport function createElement( type, options = {} ) {\n    const element = document.createElement( type );\n    Object.entries( options ).forEach( ( [ key, value ] ) => {\n        if ( key === 'class' ) {\n            value.split( ' ' ).forEach( ( className ) => {\n                if ( '' !== className ) {\n                    element.classList.add( className );\n                }\n            } );\n            return;\n        }\n\n        if ( key === 'dataset' ) {\n            Object.entries( value ).forEach( ( [ dataKey, dataValue ] ) => {\n                element.dataset[ dataKey ] = dataValue;\n            } );\n            return;\n        }\n\n        if ( key === 'text' ) {\n            element.textContent = value;\n            return;\n        }\n\n        if ( key === 'html' ) {\n            element.innerHTML = value;\n            return;\n        }\n\n        element.setAttribute( key, value );\n    } );\n    return element;\n}\n\n/**\n * qs is a utility function that returns the first element matching the given CSS selector within the given parent element.\n *\n * @param {string} selector - The CSS selector to search for\n * @param {Element} [parent=document] - The parent element to search within (defaults to document)\n * @return {Element} - The first element matching the selector, or null if no match is found\n * @throws {Error} If `selector` argument is missing\n */\nexport function qs( selector, parent = document ) {\n    if ( ! selector ) {\n        throw new Error(\n            'A selector argument is required for the qs function'\n        );\n    }\n    return parent.querySelector( selector );\n}\n\n/**\n * qsa is a utility function that returns an array of all elements matching the given CSS selector within the given parent element.\n *\n * @param {string} selector - The CSS selector to search for\n * @param {Element} [parent=document] - The parent element to search within (defaults to document)\n * @return {Element[]} - An array of all elements matching the selector, or an empty array if no matches are found\n * @throws {Error} If `selector` argument is missing\n */\nexport function qsa( selector, parent = document ) {\n    if ( ! selector ) {\n        throw new Error(\n            'A selector argument is required for the qsa function'\n        );\n    }\n    return [ ...parent.querySelectorAll( selector ) ];\n}\n\n/**\n * unEscapeCSS - replaces escape characters in a CSS string with their unescaped equivalents\n *\n * @param {string} cssStr – the CSS string to unescape containing CSS selectors and attributes\n * @return {string} - An escaped CSS string\n */\nexport function unEscapeCSS( cssStr ) {\n    cssStr = cssStr.replace( /&gt;/g, '>' );\n    cssStr = cssStr.replace( /&quot;/g, '\"' );\n    cssStr = cssStr.replace( /&#39;/g, \"'\" );\n    cssStr = cssStr.replace( /&amp;/g, '&' );\n    return cssStr;\n}\n\n/**\n * Safely adds an event listener to a target element.\n *\n * @param {EventTarget | object} el - The target element to which the event listener will be added.\n * @param {string} event - A string representing the event type to listen for (e.g., 'click', 'resize').\n * @param {Function | object} handler - The event listener function or object.\n * @param {boolean | object} [options] - An optional object specifying options for the event listener.\n * @throws {Error} Throws an error if the target is not a valid element or if it doesn't support addEventListener.\n */\nexport function addSafeEventListener( el, event, handler, options ) {\n    if ( el && typeof el.addEventListener === 'function' ) {\n        // Call the original function\n        el.addEventListener( event, handler, options );\n    } else {\n        /* eslint-disable no-console */\n        console.warn(\n            'el is not a valid EventTarget or does not support addEventListener'\n        );\n        /* eslint-enable no-console */\n    }\n}\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && !scriptUrl) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","import \"@bcgov/design-tokens/css-prefixed/variables.css\";\nimport '../../styles/public/index.scss';\nimport '../../../assets/images/bc_gov_logo_transparent.png';\n\nimport './dom-loader';\nimport './accessibility';\nimport './notification-banner';\nimport './print';\n\nimport './takeover-navigation';\nimport './ribbon-navigation';\n\nimport '../admin/blocks/collapse/app';\n\n// import './optional/patterns/actions-toggle-query';\n// import './optional/patterns/sectors-section-cards';\n"],"names":["triggerClick","collapseControlsClick","collapseItemsButtonClick","collapseItemsLinkClick","domReady","setTimeout","collapseAllButtons","document","querySelectorAll","collapseItemButtons","collapseItemLinks","collapseAlls","firstCollapseItemsButton","length","forEach","item","addEventListener","parentCollapseItem","closest","openFirstItemValue","getAttribute","click","readyState","target","undefined","collaspseButtons","collapseItems","classList","contains","remove","setAttribute","add","collapseButton","collapseItem","querySelector","buttonState","buttonToClick","allowedColors","name","color","mediaQueries","value","label","disabled","defaults","defaultValue","el","evt","window","MouseEvent","bubbles","cancelable","view","canceled","dispatchEvent","qs","qsa","addSafeEventListener","bcgovBlockThemeAccessibility","requestAnimationFrame","bodyInsertion","firstChild","skipNav","parentNode","insertBefore","skipNavItems","mainMenuHamburger","mainMenu","mainMenuLinks","mainMenuButtons","link","button","config","attributes","callback","mutationList","mutation","type","observer","MutationObserver","observe","unEscapeCSS","bcgovBlockThemeDomLoader","body","wpAdmin","home","headerGroup","header","isGovLogo","footer","postContent","customCSS","innerText","headerGroupHeight","getComputedStyle","getPropertyValue","headerHeight","style","paddingTop","documentElement","setProperty","clientHeight","bannerElement","firstElementChild","breadcrumb","takeover","nav","site","siteName","headerEffect","customBodyClass","externalLinkIcons","className","split","some","individualClass","test","nextSibling","position","overflow","transform","backToTopBtn","createElement","append","backToTopImage","templateDir","lastScrollTop","scrollTopPadding","windowScroll","backToTop","pageYOffset","innerHeight","offsetHeight","display","opacity","scrollTopPosition","scrollTop","doExternalLinkCheck","links","href","startsWith","currentDomain","location","hostname","linkDomain","match","svg","createElementNS","innerHTML","computedStyle","fontSize","width","height","appendChild","windowLoad","windowResize","clientWidth","bcgovBlockThemeNotificationBanner","notificationEnabled","noticeEnabled","notificationHomepageOnly","noticeHomepageOnly","notificationLabelBold","noticeLabelBold","notificationLabelBig","noticeLabelBig","notificationStatus","noticeStatus","notificationContent","noticeContent","notificationButtonLabel","noticeButtonLabel","notificationButtonEnabled","noticeButtonEnabled","notificationButtonAriaLabel","noticeButtonAriaLabel","notificationButtonLink","noticeButtonLink","notificationButtonUtmCampaign","noticeButtonUtmCampaign","networkNotificationBannerNetworkEnabled","networkBannerEnabledNet","networkNotificationStatus","networkBannerType","networkNotificationContent","networkBannerContent","networkNotificationButtonUtmCampaign","networkBannerUtm","currentPage","notificationContainer","class","role","notificationContentInnerContainer","notificationContentInner","html","notfificationBtnContainer","notfificationBtn","text","onclick","prepend","bcgovBlockThemePrint","siteLogo","invertBackground","hasAttribute","printHeaderContainer","cloneLogo","cloneNode","printHeaderBlackImage","src","cloneSiteName","imageElement","image","imageContainer","printMediaQuery","matchMedia","handlePrintChange","e","imagesToPrint","matches","dataset","nonPrintStyle","printWidth","removeAttribute","bcgovBlockThemeRibbonNavigation","doBoundsCheck","targetEl","container","childContainer","subChildContainer","languageChildContainer","bounding","getBoundingClientRect","windowWidth","innerWidth","top","right","left","offsetWidth","subMenuLanguageGroupLiClasses","subMenuLanguageOptionLiClasses","ulmainnav","submenuLis","subSubmenuLis","li","toString","replace","currentUl","ulLangSwitch","lis1","a","textContent","li2","path","ul3","a2","span","ulPrimary","ulLanguageOptions","lis2","elem","i","tagName","capture","bcgovBlockThemeTakeoverNavigation","elLogo","id","after","elSiteName","menuOpenSVGToReplace","newOpenSVG","removeChild","menuCloseSVGToReplace","newCloseSVG","addGlobalEventListener","selector","parent","Error","event","elements","includes","element","options","Object","entries","key","dataKey","dataValue","cssStr","handler","console","warn"],"sourceRoot":""}